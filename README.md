# Groovepush

音楽ファイルをGitのように管理するためのローカルバージョン管理ツール

## 概要

Groovepushは、音楽制作プロジェクトのファイルを効率的に管理するためのコマンドラインツールです。Gitのような操作でプロジェクトのスナップショットを作成し、任意の時点にファイルを復元することができます。

## 特徴

- 🎵 音楽プロジェクトに特化したファイル管理
- 📦 プロジェクト全体のスナップショット（Zip形式）を自動作成
- 🔄 任意のコミットポイントへの簡単復元
- 📝 コミット履歴の表示・管理
- 🛡️ セキュリティ対策済みの安全なファイル復元機能

## 技術仕様

- **言語**: Go 1.23.5
- **主要ライブラリ**:
  - github.com/spf13/cobra - CLI フレームワーク
  - github.com/google/uuid - コミットID生成
- **データ保存形式**: JSON + Zip アーカイブ
- **管理ディレクトリ**: `.groovepush/`

## インストール

```bash
go build -o groovepush
```

## 使い方

### 1. プロジェクト初期化

```bash
./groovepush init
```

現在のディレクトリにGroovepushの管理ディレクトリ（`.groovepush/`）を作成します。

### 2. コミット作成

```bash
./groovepush commit -m "コミットメッセージ"
```

プロジェクトの現在の状態をスナップショットとして保存します。

### 3. コミット履歴表示

```bash
./groovepush log
```

過去のコミット履歴とメッセージを表示します。

### 4. プロジェクト復元

```bash
./groovepush restore <コミットID>
```

指定したコミットIDの時点にプロジェクトファイルを復元します。

## プロジェクト構造

```
groovepush/
├── main.go        # エントリーポイント
├── root.go        # CLI ルートコマンド定義
├── init.go        # 初期化コマンド
├── commit.go      # コミットコマンド
├── log.go         # ログ表示コマンド
├── restore.go     # 復元コマンド
├── go.mod         # Go モジュール定義
└── README.md      # このファイル
```

## 管理ファイル

`.groovepush/` ディレクトリ内に以下のファイルが作成されます：

- `config.json` - プロジェクト設定
- `commits.json` - コミット履歴情報
- `commits/` - 各コミットのZipアーカイブ

## セキュリティ対策

- Zip爆弾やディレクトリトラバーサル攻撃への対策を実装
- 復元時のファイルパス検証により、プロジェクトルート外への書き込みを防止
- `.groovepush`および`.git`ディレクトリは自動的にコミット対象から除外

## 開発者向け情報

このプロジェクトはGo言語で開発されており、Cobraライブラリを使用してCLIインターフェースを実装しています。各コマンドは独立したファイルに分離され、メンテナンスしやすい構造になっています。
